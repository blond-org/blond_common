

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>interfaces.input_parameters package &mdash; BLonD Common  documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="fitting package" href="fitting.html" />
    <link rel="prev" title="interfaces package" href="interfaces.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> BLonD Common
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="interfaces.html">interfaces package</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="interfaces.html#modules">Modules</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">interfaces.input_parameters package</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="interfaces.html#examples">Examples</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="fitting.html">fitting package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="fitting.html#modules">Modules</a><ul>
<li class="toctree-l3"><a class="reference internal" href="fitting.profile.html">fitting.profile module</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="fitting.html#examples">Examples</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="maths.html">maths package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="maths.html#modules">Modules</a><ul>
<li class="toctree-l3"><a class="reference internal" href="maths.calculus.html">maths.calculus module</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="maths.html#examples">Examples</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="rf_functions.html">rf_functions package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="rf_functions.html#modules">Modules</a><ul>
<li class="toctree-l3"><a class="reference internal" href="rf_functions.potential.html">rf_functions.potential module</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="rf_functions.html#examples">Examples</a></li>
</ul>
</li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">BLonD Common</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="interfaces.html">interfaces package</a> &raquo;</li>
        
      <li>interfaces.input_parameters package</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/_modules/interfaces.input_parameters.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="interfaces-input-parameters-package">
<h1>interfaces.input_parameters package<a class="headerlink" href="#interfaces-input-parameters-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="module-blond_common.interfaces.input_parameters.ring">
<span id="interfaces-input-parameters-ring-module"></span><h2>interfaces.input_parameters.ring module<a class="headerlink" href="#module-blond_common.interfaces.input_parameters.ring" title="Permalink to this headline">¶</a></h2>
<dl class="simple">
<dt><strong>Module gathering all general input parameters used for the simulation.</strong></dt><dd><dl class="field-list simple">
<dt class="field-odd">Authors</dt>
<dd class="field-odd"><p><strong>Alexandre Lasheen</strong>, <strong>Danilo Quartullo</strong>, <strong>Helga Timko</strong></p>
</dd>
</dl>
</dd>
</dl>
<dl class="class">
<dt id="blond_common.interfaces.input_parameters.ring.Ring">
<em class="property">class </em><code class="sig-prename descclassname">blond_common.interfaces.input_parameters.ring.</code><code class="sig-name descname">Ring</code><span class="sig-paren">(</span><em class="sig-param">ring_length</em>, <em class="sig-param">alpha_0</em>, <em class="sig-param">synchronous_data</em>, <em class="sig-param">Particle</em>, <em class="sig-param">n_turns=1</em>, <em class="sig-param">synchronous_data_type='momentum'</em>, <em class="sig-param">bending_radius=None</em>, <em class="sig-param">n_sections=1</em>, <em class="sig-param">alpha_1=None</em>, <em class="sig-param">alpha_2=None</em>, <em class="sig-param">RingOptions=&lt;blond_common.interfaces.input_parameters.ring_options.RingOptions object&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="blond_common/interfaces/input_parameters/ring.html#Ring"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#blond_common.interfaces.input_parameters.ring.Ring" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Class containing the general properties of the synchrotron that are
independent of the RF system or the beam.</p>
<p>The index <span class="math notranslate nohighlight">\(n\)</span> denotes time steps, <span class="math notranslate nohighlight">\(k\)</span> ring segments/sections
and <span class="math notranslate nohighlight">\(i\)</span> momentum compaction orders.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ring_length</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a><em> (</em><em>opt: float array</em><em> [</em><em>n_sections</em><em>]</em><em>)</em>) – Length [m] of the n_sections ring segments of the synchrotron.
An RF station, a synchrotron radiation kick, and/or an impedance kick
can be included at the end of each ring section.</p></li>
<li><p><strong>alpha_0</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a><em> (</em><em>opt: float array/matrix</em><em> [</em><em>n_sections</em><em>, </em><em>n_turns+1</em><em>]</em><em>)</em>) – Momentum compaction factor of zeroth order <span class="math notranslate nohighlight">\(\alpha_{0,k,i}\)</span> [1];
can be input as single float or as a program of (n_turns + 1) turns
(should be of the same size as synchronous_data).
In case of higher order momentum compaction, check the
documentation for the inputs: alpha_order, alpha_1, alpha_2</p></li>
<li><p><strong>synchronous_data</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a><em> (</em><em>opt: float array/matrix</em><em> [</em><em>n_sections</em><em>, </em><em>n_turns+1</em><em>]</em><em>)</em>) – Design synchronous particle momentum (default) [eV], kinetic or
total energy [eV] or bending field [T] on the design orbit.
Input for each RF section <span class="math notranslate nohighlight">\(p_{s,k,n}\)</span>.
Can be input as a single constant float, or as a
program of (n_turns + 1) turns. In case of several sections without
acceleration, input: [[momentum_section_1], [momentum_section_2],
etc.]. In case of several sections with acceleration, input:
[momentum_program_section_1, momentum_program_section_2, etc.]. Can
be input also as a tuple of time and momentum, see also
‘cycle_time’ and ‘PreprocessRamp’</p></li>
<li><p><strong>Particle</strong> (<em>class</em>) – A Particle-based class defining the primary, synchronous particle (mass
and charge) that is reference for the momentum/energy in the ring.</p></li>
<li><p><strong>n_turns</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – Optional: Number of turns <span class="math notranslate nohighlight">\(n\)</span> [1] to be simulated.
If a synchronous_data program is passed as a tuple (see below),
the number of turns will be overwritten depending on the length in time
of the program</p></li>
<li><p><strong>synchronous_data_type</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Optional: Choice of ‘synchronous_data’ type; can be ‘momentum’
(default), ‘total energy’, ‘kinetic energy’ or ‘bending field’
(requires bending_radius to be defined)</p></li>
<li><p><strong>bending_radius</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – Optional: Radius [m] of the bending magnets,
required if ‘bending field’ is set for the synchronous_data_type</p></li>
<li><p><strong>n_sections</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – Optional: number of ring sections/segments; default is 1</p></li>
<li><p><strong>alpha_1</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a><em> (</em><em>opt: float array/matrix</em><em> [</em><em>n_sections</em><em>, </em><em>n_turns+1</em><em>]</em><em>)</em>) – Momentum compaction factor of first order
<span class="math notranslate nohighlight">\(\alpha_{1,k,i}\)</span> [1]; can be input as single float or as a
program of (n_turns + 1) turns (should be of the same size as
synchronous_data and alpha_0).</p></li>
<li><p><strong>alpha_2</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a><em> (</em><em>opt: float array/matrix</em><em> [</em><em>n_sections</em><em>, </em><em>n_turns+1</em><em>]</em><em>)</em>) – Optional : Momentum compaction factor of second order
<span class="math notranslate nohighlight">\(\alpha_{2,k,i}\)</span> [1]; can be input as single float or as a
program of (n_turns + 1) turns (should be of the same size as
synchronous_data and alpha_0).</p></li>
<li><p><strong>RingOptions</strong> (<em>class</em>) – Optional : A RingOptions-based class with default options to check the
input and initialize the momentum program for the simulation.
This object defines the interpolation scheme, plotting options, etc.
The options for this object can be adjusted and passed to the Ring
object.</p></li>
</ul>
</dd>
</dl>
<dl class="attribute">
<dt id="blond_common.interfaces.input_parameters.ring.Ring.ring_circumference">
<code class="sig-name descname">ring_circumference</code><a class="headerlink" href="#blond_common.interfaces.input_parameters.ring.Ring.ring_circumference" title="Permalink to this definition">¶</a></dt>
<dd><p>Circumference of the synchrotron. Sum of ring segment lengths,
<span class="math notranslate nohighlight">\(C = \sum_k L_k\)</span> [m]</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)">float</a></p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="blond_common.interfaces.input_parameters.ring.Ring.ring_radius">
<code class="sig-name descname">ring_radius</code><a class="headerlink" href="#blond_common.interfaces.input_parameters.ring.Ring.ring_radius" title="Permalink to this definition">¶</a></dt>
<dd><p>Radius of the synchrotron, <span class="math notranslate nohighlight">\(R = C/(2 \pi)\)</span> [m]</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)">float</a></p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="blond_common.interfaces.input_parameters.ring.Ring.bending_radius">
<code class="sig-name descname">bending_radius</code><a class="headerlink" href="#blond_common.interfaces.input_parameters.ring.Ring.bending_radius" title="Permalink to this definition">¶</a></dt>
<dd><p>Bending radius in dipole magnets, <span class="math notranslate nohighlight">\(\rho\)</span> [m]</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)">float</a></p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="blond_common.interfaces.input_parameters.ring.Ring.alpha_order">
<code class="sig-name descname">alpha_order</code><a class="headerlink" href="#blond_common.interfaces.input_parameters.ring.Ring.alpha_order" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of orders of the momentum compaction factor (from 0 to 2)</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)">int</a></p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="blond_common.interfaces.input_parameters.ring.Ring.eta_0">
<code class="sig-name descname">eta_0</code><a class="headerlink" href="#blond_common.interfaces.input_parameters.ring.Ring.eta_0" title="Permalink to this definition">¶</a></dt>
<dd><p>Zeroth order slippage factor <span class="math notranslate nohighlight">\(\eta_{0,k,n} = \alpha_{0,k,n} -
\frac{1}{\gamma_{s,k,n}^2}\)</span> [1]</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>float matrix [n_sections, n_turns+1]</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="blond_common.interfaces.input_parameters.ring.Ring.eta_1">
<code class="sig-name descname">eta_1</code><a class="headerlink" href="#blond_common.interfaces.input_parameters.ring.Ring.eta_1" title="Permalink to this definition">¶</a></dt>
<dd><p>First order slippage factor <span class="math notranslate nohighlight">\(\eta_{1,k,n} =
\frac{3\beta_{s,k,n}^2}{2\gamma_{s,k,n}^2} + \alpha_{1,k,n} -
\alpha_{0,k,n}\eta_{0,k,n}\)</span> [1]</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>float matrix [n_sections, n_turns+1]</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="blond_common.interfaces.input_parameters.ring.Ring.eta_2">
<code class="sig-name descname">eta_2</code><a class="headerlink" href="#blond_common.interfaces.input_parameters.ring.Ring.eta_2" title="Permalink to this definition">¶</a></dt>
<dd><p>Second order slippage factor <span class="math notranslate nohighlight">\(\eta_{2,k,n} =
-\frac{\beta_{s,k,n}^2\left(5\beta_{s,k,n}^2-1\right)}
{2\gamma_{s,k,n}^2} + \alpha_{2,k,n} - 2\alpha_{0,k,n}\alpha_{1,k,n}
+ \frac{\alpha_{1,k,n}}{\gamma_{s,k,n}^2} + \alpha_{0,k}^2\eta_{0,k,n}
- \frac{3\beta_{s,k,n}^2\alpha_{0,k,n}}{2\gamma_{s,k,n}^2}\)</span> [1]</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>float matrix [n_sections, n_turns+1]</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="blond_common.interfaces.input_parameters.ring.Ring.momentum">
<code class="sig-name descname">momentum</code><a class="headerlink" href="#blond_common.interfaces.input_parameters.ring.Ring.momentum" title="Permalink to this definition">¶</a></dt>
<dd><p>Synchronous relativistic momentum on the design orbit <span class="math notranslate nohighlight">\(p_{s,k,n}\)</span></p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>float matrix [n_sections, n_turns+1]</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="blond_common.interfaces.input_parameters.ring.Ring.beta">
<code class="sig-name descname">beta</code><a class="headerlink" href="#blond_common.interfaces.input_parameters.ring.Ring.beta" title="Permalink to this definition">¶</a></dt>
<dd><p>Synchronous relativistic beta program for each segment of the
ring <span class="math notranslate nohighlight">\(\beta_{s,k}^n = \frac{1}{\sqrt{1
+ \left(\frac{m}{p_{s,k,n}}\right)^2} }\)</span> [1]</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>float matrix [n_sections, n_turns+1]</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="blond_common.interfaces.input_parameters.ring.Ring.gamma">
<code class="sig-name descname">gamma</code><a class="headerlink" href="#blond_common.interfaces.input_parameters.ring.Ring.gamma" title="Permalink to this definition">¶</a></dt>
<dd><p>Synchronous relativistic gamma program for each segment of the ring
<span class="math notranslate nohighlight">\(\gamma_{s,k,n} = \sqrt{ 1
+ \left(\frac{p_{s,k,n}}{m}\right)^2 }\)</span> [1]</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>float matrix [n_sections, n_turns+1]</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="blond_common.interfaces.input_parameters.ring.Ring.energy">
<code class="sig-name descname">energy</code><a class="headerlink" href="#blond_common.interfaces.input_parameters.ring.Ring.energy" title="Permalink to this definition">¶</a></dt>
<dd><p>Synchronous total energy program for each segment of the ring
<span class="math notranslate nohighlight">\(E_{s,k,n} = \sqrt{ p_{s,k,n}^2 + m^2 }\)</span> [eV]</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>float matrix [n_sections, n_turns+1]</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="blond_common.interfaces.input_parameters.ring.Ring.kin_energy">
<code class="sig-name descname">kin_energy</code><a class="headerlink" href="#blond_common.interfaces.input_parameters.ring.Ring.kin_energy" title="Permalink to this definition">¶</a></dt>
<dd><p>Synchronous kinetic energy program for each segment of the ring
<span class="math notranslate nohighlight">\(E_{s,kin} = \sqrt{ p_{s,k,n}^2 + m^2 } - m\)</span> [eV]</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>float matrix [n_sections, n_turns+1]</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="blond_common.interfaces.input_parameters.ring.Ring.delta_E">
<code class="sig-name descname">delta_E</code><a class="headerlink" href="#blond_common.interfaces.input_parameters.ring.Ring.delta_E" title="Permalink to this definition">¶</a></dt>
<dd><p>Gain in synchronous total energy from one point to another,
for all sections,
<span class="math notranslate nohighlight">\(: \quad E_{s,k,n+1}- E_{s,k,n}\)</span> [eV]</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>float matrix [n_sections, n_turns]</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="blond_common.interfaces.input_parameters.ring.Ring.t_rev">
<code class="sig-name descname">t_rev</code><a class="headerlink" href="#blond_common.interfaces.input_parameters.ring.Ring.t_rev" title="Permalink to this definition">¶</a></dt>
<dd><p>Revolution period turn by turn.
<span class="math notranslate nohighlight">\(T_{0,n} = \frac{C}{\beta_{s,n} c}\)</span> [s]</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>float array [n_turns+1]</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="blond_common.interfaces.input_parameters.ring.Ring.f_rev">
<code class="sig-name descname">f_rev</code><a class="headerlink" href="#blond_common.interfaces.input_parameters.ring.Ring.f_rev" title="Permalink to this definition">¶</a></dt>
<dd><p>Revolution frequency <span class="math notranslate nohighlight">\(f_{0,n} = \frac{1}{T_{0,n}}\)</span> [Hz]</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>float array [n_turns+1]</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="blond_common.interfaces.input_parameters.ring.Ring.omega_rev">
<code class="sig-name descname">omega_rev</code><a class="headerlink" href="#blond_common.interfaces.input_parameters.ring.Ring.omega_rev" title="Permalink to this definition">¶</a></dt>
<dd><p>Revolution angular frequency <span class="math notranslate nohighlight">\(\omega_{0,n} = 2\pi f_{0,n}\)</span> [1/s]</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>float array [n_turns+1]</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="blond_common.interfaces.input_parameters.ring.Ring.cycle_time">
<code class="sig-name descname">cycle_time</code><a class="headerlink" href="#blond_common.interfaces.input_parameters.ring.Ring.cycle_time" title="Permalink to this definition">¶</a></dt>
<dd><p>Cumulative cycle time, turn by turn, <span class="math notranslate nohighlight">\(t_n = \sum_n T_{0,n}\)</span> [s].
Possibility to extract cycle parameters at these moments using
‘parameters_at_time’.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>float array [n_turns+1]</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt>
<code class="sig-name descname">alpha_order</code></dt>
<dd><p>Highest order of momentum compaction (as defined by the input). Can
be 0,1,2.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)">int</a></p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="blond_common.interfaces.input_parameters.ring.Ring.RingOptions">
<code class="sig-name descname">RingOptions</code><a class="headerlink" href="#blond_common.interfaces.input_parameters.ring.Ring.RingOptions" title="Permalink to this definition">¶</a></dt>
<dd><p>The RingOptions is kept as an attribute of the Ring object for further
usage.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#blond_common.interfaces.input_parameters.ring_options.RingOptions" title="blond_common.interfaces.input_parameters.ring_options.RingOptions">RingOptions</a>()</p>
</dd>
</dl>
</dd></dl>

<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># To declare a single-section synchrotron at constant energy:</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Particle type Proton</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">beam.beam</span> <span class="k">import</span> <span class="n">Proton</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">input_parameters.ring</span> <span class="k">import</span> <span class="n">Ring</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n_turns</span> <span class="o">=</span> <span class="mi">10</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">C</span> <span class="o">=</span> <span class="mi">26659</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">alpha_0</span> <span class="o">=</span> <span class="mf">3.21e-4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">momentum</span> <span class="o">=</span> <span class="mf">450e9</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ring</span> <span class="o">=</span> <span class="n">Ring</span><span class="p">(</span><span class="n">C</span><span class="p">,</span> <span class="n">alpha_0</span><span class="p">,</span> <span class="n">momentum</span><span class="p">,</span> <span class="n">Proton</span><span class="p">(),</span> <span class="n">n_turns</span><span class="p">)</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># To declare a two section synchrotron at constant energy and</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># higher-order momentum compaction factors; particle Electron:</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">beam.beam</span> <span class="k">import</span> <span class="n">Electron</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">input_parameters.ring</span> <span class="k">import</span> <span class="n">Ring</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n_turns</span> <span class="o">=</span> <span class="mi">10</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">C</span> <span class="o">=</span> <span class="p">[</span><span class="mi">13000</span><span class="p">,</span> <span class="mi">13659</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">alpha_0</span> <span class="o">=</span> <span class="p">[[</span><span class="mf">3.21e-4</span><span class="p">],</span> <span class="p">[</span><span class="mf">2.89e-4</span><span class="p">]]</span>  <span class="c1"># or [3.21e-4, 2.89e-4]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">alpha_1</span> <span class="o">=</span> <span class="p">[[</span><span class="mf">2.e-5</span><span class="p">],</span> <span class="p">[</span><span class="mf">1.e-5</span><span class="p">]]</span>  <span class="c1"># or [2.e-5, 1.e-5]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">alpha_2</span> <span class="o">=</span> <span class="p">[[</span><span class="mf">5.e-7</span><span class="p">],</span> <span class="p">[</span><span class="mf">5.e-7</span><span class="p">]]</span>  <span class="c1"># or [5.e-7, 5.e-7]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">momentum</span> <span class="o">=</span> <span class="mf">450e9</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ring</span> <span class="o">=</span> <span class="n">Ring</span><span class="p">(</span><span class="n">C</span><span class="p">,</span> <span class="n">alpha_0</span><span class="p">,</span> <span class="n">momentum</span><span class="p">,</span> <span class="n">Electron</span><span class="p">(),</span> <span class="n">n_turns</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>            <span class="n">alpha_1</span><span class="o">=</span><span class="n">alpha_1</span><span class="p">,</span> <span class="n">alpha_2</span><span class="o">=</span><span class="n">alpha_2</span><span class="p">)</span>
</pre></div>
</div>
<dl class="method">
<dt id="blond_common.interfaces.input_parameters.ring.Ring.eta_generation">
<code class="sig-name descname">eta_generation</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="blond_common/interfaces/input_parameters/ring.html#Ring.eta_generation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#blond_common.interfaces.input_parameters.ring.Ring.eta_generation" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to generate the slippage factors (zeroth, first, and
second orders, see <a class="footnote-reference brackets" href="#id2" id="id1">1</a>) from the momentum compaction and the
relativistic beta and gamma program through the cycle.</p>
<p class="rubric">References</p>
<dl class="footnote brackets">
<dt class="label" id="id2"><span class="brackets"><a class="fn-backref" href="#id1">1</a></span></dt>
<dd><p>“Accelerator Physics,” S. Y. Lee, World Scientific,
Third Edition, 2012.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="blond_common.interfaces.input_parameters.ring.Ring.parameters_at_time">
<code class="sig-name descname">parameters_at_time</code><span class="sig-paren">(</span><em class="sig-param">cycle_moments</em><span class="sig-paren">)</span><a class="reference internal" href="blond_common/interfaces/input_parameters/ring.html#Ring.parameters_at_time"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#blond_common.interfaces.input_parameters.ring.Ring.parameters_at_time" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to return various cycle parameters at a specific moment in
time. The cycle time is defined to start at zero in turn zero.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>cycle_moments</strong> (<em>float array</em>) – Moments of time at which cycle parameters are to be calculated [s].</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>parameters</strong> – Contains ‘momentum’, ‘beta’, ‘gamma’, ‘energy’, ‘kin_energy’,
‘f_rev’, ‘t_rev’. ‘omega_rev’, ‘eta_0’, and ‘delta_E’ interpolated
to the moments contained in the ‘cycle_moments’ array</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dictionary</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-blond_common.interfaces.input_parameters.ring_options">
<span id="interfaces-input-parameters-ring-options-module"></span><h2>interfaces.input_parameters.ring_options module<a class="headerlink" href="#module-blond_common.interfaces.input_parameters.ring_options" title="Permalink to this headline">¶</a></h2>
<p><strong>Function(s) for pre-processing input data</strong></p>
<dl class="field-list simple">
<dt class="field-odd">Authors</dt>
<dd class="field-odd"><p><strong>Helga Timko</strong>, <strong>Alexandre Lasheen</strong>, <strong>Danilo Quartullo</strong>,
<strong>Simon Albright</strong></p>
</dd>
</dl>
<dl class="class">
<dt id="blond_common.interfaces.input_parameters.ring_options.RingOptions">
<em class="property">class </em><code class="sig-prename descclassname">blond_common.interfaces.input_parameters.ring_options.</code><code class="sig-name descname">RingOptions</code><span class="sig-paren">(</span><em class="sig-param">interpolation='linear'</em>, <em class="sig-param">smoothing=0</em>, <em class="sig-param">flat_bottom=0</em>, <em class="sig-param">flat_top=0</em>, <em class="sig-param">t_start=None</em>, <em class="sig-param">t_end=None</em>, <em class="sig-param">interp_time='t_rev'</em>, <em class="sig-param">plot=False</em>, <em class="sig-param">figdir='fig'</em>, <em class="sig-param">figname='preprocess_ramp'</em>, <em class="sig-param">sampling=1</em><span class="sig-paren">)</span><a class="reference internal" href="blond_common/interfaces/input_parameters/ring_options.html#RingOptions"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#blond_common.interfaces.input_parameters.ring_options.RingOptions" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Class to preprocess the synchronous data for Ring, interpolating it to
every turn.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>interpolation</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Interpolation options for the data points. Available options are
‘linear’ (default), ‘cubic’, and ‘derivative’</p></li>
<li><p><strong>smoothing</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – Smoothing value for ‘cubic’ interpolation</p></li>
<li><p><strong>flat_bottom</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – Number of turns to be added on flat bottom; default is 0. Constant
extrapolation is used for the synchronous data</p></li>
<li><p><strong>flat_top</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – Number of turns to be added on flat top; default is 0. Constant
extrapolation is used for the synchronous data</p></li>
<li><p><strong>t_start</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.8)"><em>None</em></a>) – Starting time from which the time array input should be taken into
account; default is None</p></li>
<li><p><strong>t_end</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.8)"><em>None</em></a>) – Last time up to which the time array input should be taken into
account; default is None</p></li>
<li><p><strong>interp_time</strong> (<em>'t_rev'</em><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a><em> or </em><em>array</em>) – Time on which the momentum program should be interpolated;
default is ‘t_rev’ to compute at each revolution period (for tracking)
if a float is passed, will interpolate at regular time
if an array/list is passed, will interpolate at given time</p></li>
<li><p><strong>plot</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – Option to plot interpolated arrays; default is False</p></li>
<li><p><strong>figdir</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Directory to save optional plot; default is ‘fig’</p></li>
<li><p><strong>figname</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Figure name to save optional plot; default is ‘preprocess_ramp’</p></li>
<li><p><strong>sampling</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – Decimation value for plotting; default is 1</p></li>
</ul>
</dd>
</dl>
<dl class="method">
<dt id="blond_common.interfaces.input_parameters.ring_options.RingOptions.preprocess">
<code class="sig-name descname">preprocess</code><span class="sig-paren">(</span><em class="sig-param">mass</em>, <em class="sig-param">circumference</em>, <em class="sig-param">time</em>, <em class="sig-param">momentum</em><span class="sig-paren">)</span><a class="reference internal" href="blond_common/interfaces/input_parameters/ring_options.html#RingOptions.preprocess"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#blond_common.interfaces.input_parameters.ring_options.RingOptions.preprocess" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to pre-process acceleration ramp data, interpolating it to
every turn. Currently it works only if the number of RF sections is
equal to one, to be extended for multiple RF sections.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mass</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – Particle mass [eV]</p></li>
<li><p><strong>circumference</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – Ring circumference [m]</p></li>
<li><p><strong>time</strong> (<em>float array</em>) – Time points [s] corresponding to momentum data</p></li>
<li><p><strong>momentum</strong> (<em>float array</em>) – Particle momentum [eV/c]</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><em>float array</em> – Cumulative time [s]</p></li>
<li><p><em>float array</em> – Interpolated momentum [eV/c]</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="blond_common.interfaces.input_parameters.ring_options.RingOptions.reshape_data">
<code class="sig-name descname">reshape_data</code><span class="sig-paren">(</span><em class="sig-param">input_data</em>, <em class="sig-param">n_turns</em>, <em class="sig-param">n_sections</em>, <em class="sig-param">interp_time='t_rev'</em>, <em class="sig-param">input_to_momentum=False</em>, <em class="sig-param">synchronous_data_type='momentum'</em>, <em class="sig-param">mass=None</em>, <em class="sig-param">charge=None</em>, <em class="sig-param">circumference=None</em>, <em class="sig-param">bending_radius=None</em><span class="sig-paren">)</span><a class="reference internal" href="blond_common/interfaces/input_parameters/ring_options.html#RingOptions.reshape_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#blond_common.interfaces.input_parameters.ring_options.RingOptions.reshape_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks whether the user input is consistent with the expectation
for the Ring object. The possibilites are detailed in the documentation
of the Ring object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>input_data</strong> (<em>Ring.synchronous_data</em><em>, </em><em>Ring.alpha_0</em><em>,</em><em>1</em><em>,</em><em>2</em>) – Main input data to reshape</p></li>
<li><p><strong>n_turns</strong> (<em>Ring.n_turns</em>) – Number of turns the simulation should be. Note that if
the input_data is passed as a tuple it is expected that the
input_data is a program. Hence, the number of turns may not
correspond to the input one and will be overwritten</p></li>
<li><p><strong>n_sections</strong> (<em>Ring.n_sections</em>) – The number of sections of the ring. The simulation is stopped
if the input_data shape does not correspond to the expected number
of sections.</p></li>
<li><p><strong>interp_time</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a><em> or </em><em>float array</em>) – Optional : defines the time on which the program will be
interpolated. If ‘t_rev’ is passed and if the input_data is
momentum (see input_to_momentum option) the momentum program
is interpolated on the revolution period (see preprocess()
function). If a float or a float array is passed, the program
is interpolated on that input ; default is ‘t_rev’</p></li>
<li><p><strong>input_to_momentum</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – Optional : flags if the input_data is the momentum program, the
options defined below become necessary for conversion</p></li>
<li><p><strong>synchronous_data_type</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Optional : to be passed to the convert_data function if
input_to_momentum ; default is ‘momentum’</p></li>
<li><p><strong>mass</strong> (<em>Ring.Particle.mass</em>) – Optional : the mass of the particles in [eV/c**2] ; default is None</p></li>
<li><p><strong>charge</strong> (<em>Ring.Particle.charge</em>) – Optional : the charge of the particles in units of [e] ;
default is None</p></li>
<li><p><strong>circumference</strong> (<em>Ring.circumference</em>) – Optional : the circumference of the ring ; default is None</p></li>
<li><p><strong>bending_radius</strong> (<em>Ring.bending_radis</em>) – Optional : the bending radius of magnets ; default is None</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Returns the data with the adequate shape for the Ring object</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>output_data</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="blond_common.interfaces.input_parameters.ring_options.convert_data">
<code class="sig-prename descclassname">blond_common.interfaces.input_parameters.ring_options.</code><code class="sig-name descname">convert_data</code><span class="sig-paren">(</span><em class="sig-param">synchronous_data</em>, <em class="sig-param">mass</em>, <em class="sig-param">charge</em>, <em class="sig-param">synchronous_data_type='momentum'</em>, <em class="sig-param">bending_radius=None</em><span class="sig-paren">)</span><a class="reference internal" href="blond_common/interfaces/input_parameters/ring_options.html#convert_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#blond_common.interfaces.input_parameters.ring_options.convert_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to convert synchronous data (i.e. energy program of the
synchrotron) into momentum.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>synchronous_data</strong> (<em>float array</em>) – The synchronous data to be converted to momentum</p></li>
<li><p><strong>mass</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a><em> or </em><em>Particle.mass</em>) – The mass of the particles in [eV/c**2]</p></li>
<li><p><strong>charge</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em> or </em><em>Particle.charge</em>) – The charge of the particles in units of [e]</p></li>
<li><p><strong>synchronous_data_type</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Type of input for the synchronous data ; can be ‘momentum’,
‘total energy’, ‘kinetic energy’ or ‘bending field’ (last case
requires bending_radius to be defined)</p></li>
<li><p><strong>bending_radius</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – Bending radius in [m] in case synchronous_data_type is
‘bending field’</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>momentum</strong> – The input synchronous_data converted into momentum [eV/c]</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float array</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="blond_common.interfaces.input_parameters.ring_options.load_data">
<code class="sig-prename descclassname">blond_common.interfaces.input_parameters.ring_options.</code><code class="sig-name descname">load_data</code><span class="sig-paren">(</span><em class="sig-param">filename</em>, <em class="sig-param">ignore=0</em>, <em class="sig-param">delimiter=None</em><span class="sig-paren">)</span><a class="reference internal" href="blond_common/interfaces/input_parameters/ring_options.html#load_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#blond_common.interfaces.input_parameters.ring_options.load_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Helper function to load column-by-column data from a txt file to numpy
arrays.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filename</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Name of the file containing the data.</p></li>
<li><p><strong>ignore</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – Number of lines to ignore from the head of the file.</p></li>
<li><p><strong>delimiter</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Delimiting character between columns.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Input data, column by column.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list of arrays</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-blond_common.interfaces.input_parameters.rf_parameters">
<span id="interfaces-input-parameters-rf-parameters-module"></span><h2>interfaces.input_parameters.rf_parameters module<a class="headerlink" href="#module-blond_common.interfaces.input_parameters.rf_parameters" title="Permalink to this headline">¶</a></h2>
<p><strong>Module gathering and processing all RF parameters used in the simulation.</strong></p>
<dl class="field-list simple">
<dt class="field-odd">Authors</dt>
<dd class="field-odd"><p><strong>Alexandre Lasheen</strong>, <strong>Danilo Quartullo</strong>, <strong>Helga Timko</strong></p>
</dd>
</dl>
<dl class="class">
<dt id="blond_common.interfaces.input_parameters.rf_parameters.RFStation">
<em class="property">class </em><code class="sig-prename descclassname">blond_common.interfaces.input_parameters.rf_parameters.</code><code class="sig-name descname">RFStation</code><span class="sig-paren">(</span><em class="sig-param">Ring</em>, <em class="sig-param">harmonic</em>, <em class="sig-param">voltage</em>, <em class="sig-param">phi_rf_d</em>, <em class="sig-param">n_rf=1</em>, <em class="sig-param">section_index=1</em>, <em class="sig-param">omega_rf=None</em>, <em class="sig-param">phi_noise=None</em>, <em class="sig-param">phi_modulation=None</em>, <em class="sig-param">RFStationOptions=&lt;blond_common.interfaces.input_parameters.rf_parameters_options.RFStationOptions object&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="blond_common/interfaces/input_parameters/rf_parameters.html#RFStation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#blond_common.interfaces.input_parameters.rf_parameters.RFStation" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Class containing all the RF parameters for all the RF systems in one
ring segment or RF station.</p>
<p><strong>How to use RF programs:</strong></p>
<ul class="simple">
<li><p>For 1 RF system and constant values of V, h, or phi, input a single value</p></li>
<li><p>For 1 RF system and varying values of V, h, or phi, input an array of
n_turns+1 values</p></li>
<li><p>For several RF systems and constant values of V, h, or phi, input lists
of single values</p></li>
<li><p>For several RF systems and varying values of V, h, or phi, input lists
of arrays of n_turns+1 values</p></li>
<li><p>For pre-processing, pass a list of times-voltages, times-harmonics,
and/or times-phases for <strong>each</strong> RF system as a tuple
((time_1, voltage_1), (time_2, voltage_2), …)</p></li>
</ul>
<p>Optional: RF frequency other than the design frequency. In this case, need
to use a beam phase loop for correct RF phase!</p>
<p>Optional: empty RFStation (e.g. for machines with synchrotron radiation);
input voltage as 0.</p>
<p>The index <span class="math notranslate nohighlight">\(n\)</span> denotes time steps, <span class="math notranslate nohighlight">\(l\)</span> the index of the RF
systems in the section.</p>
<p><strong>N.B. for negative eta the RF phase has to be shifted by Pi w.r.t the time
reference.</strong></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>Ring</strong> (<em>class</em>) – A Ring type class</p></li>
<li><p><strong>harmonic</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a><em> (</em><em>opt: float array/matrix</em><em>, </em><em>tuple of float array/matrix</em><em>)</em>) – Harmonic number of the RF system, <span class="math notranslate nohighlight">\(h_{l,n}\)</span> [1]. For input
options, see above</p></li>
<li><p><strong>voltage</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a><em> (</em><em>opt: float array/matrix</em><em>, </em><em>tuple of float array/matrix</em><em>)</em>) – RF cavity voltage as seen by the beam, <span class="math notranslate nohighlight">\(V_{l,n}\)</span> [V]. For input
options, see above</p></li>
<li><p><strong>phi_rf_d</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a><em> (</em><em>opt: float array/matrix</em><em>, </em><em>tuple of float array/matrix</em><em>)</em>) – Programmed/designed RF cavity phase,
<span class="math notranslate nohighlight">\(\phi_{d,l,n}\)</span> [rad]. For input options, see above</p></li>
<li><p><strong>n_rf</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – Optional, Number of harmonic rf systems in the section <span class="math notranslate nohighlight">\(l\)</span>.
Becomes mandatory for several rf systems.</p></li>
<li><p><strong>section_index</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – Optional, In case of several sections in the Ring object, this
specifies after which section the rf station is located (to get the
right momentum program etc.). Value should be in the range
1..Ring.n_sections</p></li>
<li><p><strong>omega_rf</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a><em> (</em><em>opt: float array/matrix</em><em>)</em>) – Optional, Sets the rf angular frequency program that does not follow
the harmonic condition. For input options, see above.</p></li>
<li><p><strong>phi_noise</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a><em> (</em><em>opt: float array/matrix</em><em>)</em>) – Optional, programmed RF cavity phase noise, <span class="math notranslate nohighlight">\(\phi_{N,l,n}\)</span> [rad].
Added to all RF systems in the station. For input options, see above</p></li>
<li><p><strong>phi_modulation</strong> (<em>class</em><em> (</em><em>opt: iterable of classes</em><em>)</em>) – A PhaseModulation type class (or iterable of classes)</p></li>
<li><p><strong>RFStationOptions</strong> (<em>class</em>) – Optionnal, A RFStationOptions-based class defining smoothing,
interpolation, etc. options for harmonic, voltage, and/or
phi_rf_d programme to be interpolated to a turn-by-turn programme</p></li>
</ul>
</dd>
</dl>
<dl class="attribute">
<dt id="blond_common.interfaces.input_parameters.rf_parameters.RFStation.counter">
<code class="sig-name descname">counter</code><a class="headerlink" href="#blond_common.interfaces.input_parameters.rf_parameters.RFStation.counter" title="Permalink to this definition">¶</a></dt>
<dd><p>Counter of the current simulation time step; defined as a list in
order to be passed by reference</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)">int</a></p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="blond_common.interfaces.input_parameters.rf_parameters.RFStation.section_index">
<code class="sig-name descname">section_index</code><a class="headerlink" href="#blond_common.interfaces.input_parameters.rf_parameters.RFStation.section_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Unique index <span class="math notranslate nohighlight">\(k\)</span> of the RF station the present class is defined
for. Input in the range 1..n_sections (see
<code class="xref py py-class docutils literal notranslate"><span class="pre">input_parameters.ring.Ring</span></code>).
Inside the code, indices 0..n_sections-1 are used.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)">int</a></p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="blond_common.interfaces.input_parameters.rf_parameters.RFStation.Particle">
<code class="sig-name descname">Particle</code><a class="headerlink" href="#blond_common.interfaces.input_parameters.rf_parameters.RFStation.Particle" title="Permalink to this definition">¶</a></dt>
<dd><p>Inherited from
<code class="xref py py-attr docutils literal notranslate"><span class="pre">input_parameters.ring.Ring.Particle</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>class</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="blond_common.interfaces.input_parameters.rf_parameters.RFStation.n_turns">
<code class="sig-name descname">n_turns</code><a class="headerlink" href="#blond_common.interfaces.input_parameters.rf_parameters.RFStation.n_turns" title="Permalink to this definition">¶</a></dt>
<dd><p>Inherited from
<code class="xref py py-attr docutils literal notranslate"><span class="pre">input_parameters.ring.Ring.n_turns</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)">int</a></p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="blond_common.interfaces.input_parameters.rf_parameters.RFStation.ring_circumference">
<code class="sig-name descname">ring_circumference</code><a class="headerlink" href="#blond_common.interfaces.input_parameters.rf_parameters.RFStation.ring_circumference" title="Permalink to this definition">¶</a></dt>
<dd><p>Inherited from
<code class="xref py py-attr docutils literal notranslate"><span class="pre">input_parameters.ring.Ring.ring_circumference</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)">float</a></p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="blond_common.interfaces.input_parameters.rf_parameters.RFStation.section_length">
<code class="sig-name descname">section_length</code><a class="headerlink" href="#blond_common.interfaces.input_parameters.rf_parameters.RFStation.section_length" title="Permalink to this definition">¶</a></dt>
<dd><p>Length <span class="math notranslate nohighlight">\(L_k\)</span> of the RF section; inherited from
<code class="xref py py-attr docutils literal notranslate"><span class="pre">input_parameters.ring.Ring.ring_length</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)">float</a></p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="blond_common.interfaces.input_parameters.rf_parameters.RFStation.length_ratio">
<code class="sig-name descname">length_ratio</code><a class="headerlink" href="#blond_common.interfaces.input_parameters.rf_parameters.RFStation.length_ratio" title="Permalink to this definition">¶</a></dt>
<dd><p>Fractional RF section length <span class="math notranslate nohighlight">\(L_k/C\)</span></p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)">float</a></p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="blond_common.interfaces.input_parameters.rf_parameters.RFStation.t_rev">
<code class="sig-name descname">t_rev</code><a class="headerlink" href="#blond_common.interfaces.input_parameters.rf_parameters.RFStation.t_rev" title="Permalink to this definition">¶</a></dt>
<dd><p>Inherited from
<code class="xref py py-attr docutils literal notranslate"><span class="pre">input_parameters.ring.Ring.t_rev</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>float array [n_turns+1]</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="blond_common.interfaces.input_parameters.rf_parameters.RFStation.momentum">
<code class="sig-name descname">momentum</code><a class="headerlink" href="#blond_common.interfaces.input_parameters.rf_parameters.RFStation.momentum" title="Permalink to this definition">¶</a></dt>
<dd><p>Momentum program of the present RF section; inherited from
<code class="xref py py-attr docutils literal notranslate"><span class="pre">input_parameters.ring.Ring.momentum</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>float array [n_turns+1]</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="blond_common.interfaces.input_parameters.rf_parameters.RFStation.beta">
<code class="sig-name descname">beta</code><a class="headerlink" href="#blond_common.interfaces.input_parameters.rf_parameters.RFStation.beta" title="Permalink to this definition">¶</a></dt>
<dd><p>Relativistic beta of the present RF section; inherited from
<code class="xref py py-attr docutils literal notranslate"><span class="pre">input_parameters.ring.Ring.beta</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>float array [n_turns+1]</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="blond_common.interfaces.input_parameters.rf_parameters.RFStation.gamma">
<code class="sig-name descname">gamma</code><a class="headerlink" href="#blond_common.interfaces.input_parameters.rf_parameters.RFStation.gamma" title="Permalink to this definition">¶</a></dt>
<dd><p>Relativistic gamma of the present RF section; inherited from
<code class="xref py py-attr docutils literal notranslate"><span class="pre">input_parameters.ring.Ring.gamma</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>float array [n_turns+1]</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="blond_common.interfaces.input_parameters.rf_parameters.RFStation.energy">
<code class="sig-name descname">energy</code><a class="headerlink" href="#blond_common.interfaces.input_parameters.rf_parameters.RFStation.energy" title="Permalink to this definition">¶</a></dt>
<dd><p>Total energy of the present RF section; inherited from
<code class="xref py py-attr docutils literal notranslate"><span class="pre">input_parameters.ring.Ring.energy</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>float array [n_turns+1]</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="blond_common.interfaces.input_parameters.rf_parameters.RFStation.delta_E">
<code class="sig-name descname">delta_E</code><a class="headerlink" href="#blond_common.interfaces.input_parameters.rf_parameters.RFStation.delta_E" title="Permalink to this definition">¶</a></dt>
<dd><p>Time derivative of total energy of the present section; inherited from
<code class="xref py py-attr docutils literal notranslate"><span class="pre">input_parameters.ring.Ring.delta_E</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>float array [n_turns]</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="blond_common.interfaces.input_parameters.rf_parameters.RFStation.alpha_order">
<code class="sig-name descname">alpha_order</code><a class="headerlink" href="#blond_common.interfaces.input_parameters.rf_parameters.RFStation.alpha_order" title="Permalink to this definition">¶</a></dt>
<dd><p>Inherited from
<code class="xref py py-attr docutils literal notranslate"><span class="pre">input_parameters.ring.Ring.alpha_order</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)">int</a></p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="blond_common.interfaces.input_parameters.rf_parameters.RFStation.charge">
<code class="sig-name descname">charge</code><a class="headerlink" href="#blond_common.interfaces.input_parameters.rf_parameters.RFStation.charge" title="Permalink to this definition">¶</a></dt>
<dd><p>Inherited from
<code class="xref py py-attr docutils literal notranslate"><span class="pre">beam.Particle.charge</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)">int</a></p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="blond_common.interfaces.input_parameters.rf_parameters.RFStation.eta_0">
<code class="sig-name descname">eta_0</code><a class="headerlink" href="#blond_common.interfaces.input_parameters.rf_parameters.RFStation.eta_0" title="Permalink to this definition">¶</a></dt>
<dd><p>Zeroth order slippage factor of the present section; inherited from
<code class="xref py py-attr docutils literal notranslate"><span class="pre">input_parameters.ring.Ring.eta_0</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>float array [n_turns+1]</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="blond_common.interfaces.input_parameters.rf_parameters.RFStation.eta_1">
<code class="sig-name descname">eta_1</code><a class="headerlink" href="#blond_common.interfaces.input_parameters.rf_parameters.RFStation.eta_1" title="Permalink to this definition">¶</a></dt>
<dd><p>First order slippage factor of the present section; inherited from
<code class="xref py py-attr docutils literal notranslate"><span class="pre">input_parameters.ring.Ring.eta_1</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>float array [n_turns+1]</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="blond_common.interfaces.input_parameters.rf_parameters.RFStation.eta_2">
<code class="sig-name descname">eta_2</code><a class="headerlink" href="#blond_common.interfaces.input_parameters.rf_parameters.RFStation.eta_2" title="Permalink to this definition">¶</a></dt>
<dd><p>Second order slippage factor of the present section; inherited from
<code class="xref py py-attr docutils literal notranslate"><span class="pre">input_parameters.ring.Ring.eta_2</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>float array [n_turns+1]</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="blond_common.interfaces.input_parameters.rf_parameters.RFStation.sign_eta_0">
<code class="sig-name descname">sign_eta_0</code><a class="headerlink" href="#blond_common.interfaces.input_parameters.rf_parameters.RFStation.sign_eta_0" title="Permalink to this definition">¶</a></dt>
<dd><p>Sign of the eta_0 array</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>float array</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="blond_common.interfaces.input_parameters.rf_parameters.RFStation.harmonic">
<code class="sig-name descname">harmonic</code><a class="headerlink" href="#blond_common.interfaces.input_parameters.rf_parameters.RFStation.harmonic" title="Permalink to this definition">¶</a></dt>
<dd><p>Harmonic number for each rf system,
<span class="math notranslate nohighlight">\(h_{l,n}\)</span> [1]</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>float matrix [n_rf, n_turns+1]</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="blond_common.interfaces.input_parameters.rf_parameters.RFStation.voltage">
<code class="sig-name descname">voltage</code><a class="headerlink" href="#blond_common.interfaces.input_parameters.rf_parameters.RFStation.voltage" title="Permalink to this definition">¶</a></dt>
<dd><p>Actual rf voltage of each harmonic system,
<span class="math notranslate nohighlight">\(V_{rf,l,n}\)</span> [V]</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>float matrix [n_rf, n_turns+1]</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="blond_common.interfaces.input_parameters.rf_parameters.RFStation.empty">
<code class="sig-name descname">empty</code><a class="headerlink" href="#blond_common.interfaces.input_parameters.rf_parameters.RFStation.empty" title="Permalink to this definition">¶</a></dt>
<dd><p>Flag to specify if the RFStation is empty</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)">bool</a></p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="blond_common.interfaces.input_parameters.rf_parameters.RFStation.phi_rf_d">
<code class="sig-name descname">phi_rf_d</code><a class="headerlink" href="#blond_common.interfaces.input_parameters.rf_parameters.RFStation.phi_rf_d" title="Permalink to this definition">¶</a></dt>
<dd><p>Designed rf cavity phase of each harmonic system,
<span class="math notranslate nohighlight">\(\phi_{d,l,n}\)</span> [rad]</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>float matrix [n_rf, n_turns+1]</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="blond_common.interfaces.input_parameters.rf_parameters.RFStation.phi_rf">
<code class="sig-name descname">phi_rf</code><a class="headerlink" href="#blond_common.interfaces.input_parameters.rf_parameters.RFStation.phi_rf" title="Permalink to this definition">¶</a></dt>
<dd><p>Actual RF cavity phase of each harmonic system used for tracking,
<span class="math notranslate nohighlight">\(\phi_{rf,l,n}\)</span> [rad]. Initially the same as the designed phase.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>float matrix [n_rf, n_turns+1]</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="blond_common.interfaces.input_parameters.rf_parameters.RFStation.omega_rf_d">
<code class="sig-name descname">omega_rf_d</code><a class="headerlink" href="#blond_common.interfaces.input_parameters.rf_parameters.RFStation.omega_rf_d" title="Permalink to this definition">¶</a></dt>
<dd><p>Design RF angular frequency of the RF systems in the station
<span class="math notranslate nohighlight">\(\omega_{d,l,n} = \frac{h_{l,n} \beta_{l,n} c}{R_{s,n}}\)</span> [Hz]</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>float matrix [n_rf, n_turns+1]</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="blond_common.interfaces.input_parameters.rf_parameters.RFStation.omega_rf">
<code class="sig-name descname">omega_rf</code><a class="headerlink" href="#blond_common.interfaces.input_parameters.rf_parameters.RFStation.omega_rf" title="Permalink to this definition">¶</a></dt>
<dd><p>Actual RF angular frequency of the RF systems in the station
<span class="math notranslate nohighlight">\(\omega_{rf,l,n} = \frac{h_{l,n} \beta_{l,n} c}{R_{s,n}}\)</span> [Hz].
Initially the same as the designed angular frequency.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>float matrix [n_rf, n_turns+1]</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="blond_common.interfaces.input_parameters.rf_parameters.RFStation.phi_noise">
<code class="sig-name descname">phi_noise</code><a class="headerlink" href="#blond_common.interfaces.input_parameters.rf_parameters.RFStation.phi_noise" title="Permalink to this definition">¶</a></dt>
<dd><p>Programmed cavity phase noise for each RF harmonic.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.8)">None</a> or float matrix [n_rf, n_turns+1]</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="blond_common.interfaces.input_parameters.rf_parameters.RFStation.phi_modulation">
<code class="sig-name descname">phi_modulation</code><a class="headerlink" href="#blond_common.interfaces.input_parameters.rf_parameters.RFStation.phi_modulation" title="Permalink to this definition">¶</a></dt>
<dd><p>Programmed cavity phase modulation for each RF harmonic.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.8)">None</a> or float matrix [n_rf, n_turns+1]</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="blond_common.interfaces.input_parameters.rf_parameters.RFStation.dphi_rf">
<code class="sig-name descname">dphi_rf</code><a class="headerlink" href="#blond_common.interfaces.input_parameters.rf_parameters.RFStation.dphi_rf" title="Permalink to this definition">¶</a></dt>
<dd><p>Accumulated RF phase error of each harmonic system
<span class="math notranslate nohighlight">\(\Delta \phi_{rf,l,n}\)</span> [rad]</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>float matrix [n_rf]</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="blond_common.interfaces.input_parameters.rf_parameters.RFStation.t_rf">
<code class="sig-name descname">t_rf</code><a class="headerlink" href="#blond_common.interfaces.input_parameters.rf_parameters.RFStation.t_rf" title="Permalink to this definition">¶</a></dt>
<dd><p>RF period <span class="math notranslate nohighlight">\(\frac{2 \pi}{\omega_{rf,l,n}}\)</span> [s]</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>float matrix [n_rf, n_turns+1]</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="blond_common.interfaces.input_parameters.rf_parameters.RFStation.phi_s">
<code class="sig-name descname">phi_s</code><a class="headerlink" href="#blond_common.interfaces.input_parameters.rf_parameters.RFStation.phi_s" title="Permalink to this definition">¶</a></dt>
<dd><p>Synchronous phase for this section, calculated in
<code class="xref py py-func docutils literal notranslate"><span class="pre">input_parameters.rf_parameters.calculate_phi_s()</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>float array [n_turns+1]</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="blond_common.interfaces.input_parameters.rf_parameters.RFStation.Q_s">
<code class="sig-name descname">Q_s</code><a class="headerlink" href="#blond_common.interfaces.input_parameters.rf_parameters.RFStation.Q_s" title="Permalink to this definition">¶</a></dt>
<dd><p>Synchrotron tune for this section, calculated in
<code class="xref py py-func docutils literal notranslate"><span class="pre">input_parameters.rf_parameters.calculate_Q_s()</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>float array [n_turns+1]</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="blond_common.interfaces.input_parameters.rf_parameters.RFStation.omega_s0">
<code class="sig-name descname">omega_s0</code><a class="headerlink" href="#blond_common.interfaces.input_parameters.rf_parameters.RFStation.omega_s0" title="Permalink to this definition">¶</a></dt>
<dd><p>Central synchronous angular frequency corresponding to Q_s (single
harmonic, no intensity effects)
<span class="math notranslate nohighlight">\(\omega_{s,0} = Q_s \omega_{\text{rev}}\)</span> [1/s], where
<span class="math notranslate nohighlight">\(\omega_{\text{rev}}\)</span> is defined in
<code class="xref py py-class docutils literal notranslate"><span class="pre">input_parameters.ring.Ring</span></code>)</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>float array [n_turns+1]</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="blond_common.interfaces.input_parameters.rf_parameters.RFStation.RFStationOptions">
<code class="sig-name descname">RFStationOptions</code><a class="headerlink" href="#blond_common.interfaces.input_parameters.rf_parameters.RFStation.RFStationOptions" title="Permalink to this definition">¶</a></dt>
<dd><p>The RFStationOptions is kept as an attribute of the RFStationg object
for further usage.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#blond_common.interfaces.input_parameters.rf_parameters_options.RFStationOptions" title="blond_common.interfaces.input_parameters.rf_parameters_options.RFStationOptions">RFStationOptions</a>()</p>
</dd>
</dl>
</dd></dl>

<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># To declare a double-harmonic RF system for protons:</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n_turns</span> <span class="o">=</span> <span class="mi">10</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">C</span> <span class="o">=</span> <span class="mi">26659</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">alpha_0</span> <span class="o">=</span> <span class="mf">3.21e-4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">momentum</span> <span class="o">=</span> <span class="mf">450e9</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ring</span> <span class="o">=</span> <span class="n">Ring</span><span class="p">(</span><span class="n">C</span><span class="p">,</span> <span class="n">alpha_0</span><span class="p">,</span> <span class="n">momentum</span><span class="p">,</span> <span class="n">n_turns</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rf_station</span> <span class="o">=</span> <span class="n">RFStation</span><span class="p">(</span><span class="n">ring</span><span class="p">,</span> <span class="p">[</span><span class="mi">35640</span><span class="p">,</span> <span class="mi">71280</span><span class="p">],</span> <span class="p">[</span><span class="mf">6e6</span><span class="p">,</span> <span class="mf">6e5</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
<dl class="method">
<dt id="blond_common.interfaces.input_parameters.rf_parameters.RFStation.eta_tracking">
<code class="sig-name descname">eta_tracking</code><span class="sig-paren">(</span><em class="sig-param">beam</em>, <em class="sig-param">counter</em>, <em class="sig-param">dE</em><span class="sig-paren">)</span><a class="reference internal" href="blond_common/interfaces/input_parameters/rf_parameters.html#RFStation.eta_tracking"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#blond_common.interfaces.input_parameters.rf_parameters.RFStation.eta_tracking" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to calculate the slippage factor as a function of the
energy offset <span class="math notranslate nohighlight">\(\Delta E\)</span> of the particle. The slippage factor
of the <span class="math notranslate nohighlight">\(i\)</span> th order is <span class="math notranslate nohighlight">\(\eta(\delta) = \sum_{i}(\eta_i \,
\delta^i) = \sum_{i} \left(\eta_i \, \left[ \frac{\Delta E}
{\beta_s^2 E_s} \right]^i \right)\)</span></p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="blond_common.interfaces.input_parameters.rf_parameters.calculate_Q_s">
<code class="sig-prename descclassname">blond_common.interfaces.input_parameters.rf_parameters.</code><code class="sig-name descname">calculate_Q_s</code><span class="sig-paren">(</span><em class="sig-param">RFStation</em>, <em class="sig-param">Particle=&lt;blond_common.interfaces.beam.beam.Proton object&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="blond_common/interfaces/input_parameters/rf_parameters.html#calculate_Q_s"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#blond_common.interfaces.input_parameters.rf_parameters.calculate_Q_s" title="Permalink to this definition">¶</a></dt>
<dd><p>Function calculating the turn-by-turn synchrotron tune for
single-harmonic RF, without intensity effects.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>RFStation</strong> (<em>class</em>) – An RFStation type class.</p></li>
<li><p><strong>Particle</strong> (<em>class</em>) – A Particle type class; default is Proton().</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Synchrotron tune.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)">float</a></p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="blond_common.interfaces.input_parameters.rf_parameters.calculate_phi_s">
<code class="sig-prename descclassname">blond_common.interfaces.input_parameters.rf_parameters.</code><code class="sig-name descname">calculate_phi_s</code><span class="sig-paren">(</span><em class="sig-param">RFStation</em>, <em class="sig-param">Particle=&lt;blond_common.interfaces.beam.beam.Proton object&gt;</em>, <em class="sig-param">accelerating_systems='as_single'</em><span class="sig-paren">)</span><a class="reference internal" href="blond_common/interfaces/input_parameters/rf_parameters.html#calculate_phi_s"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#blond_common.interfaces.input_parameters.rf_parameters.calculate_phi_s" title="Permalink to this definition">¶</a></dt>
<dd><p>Function calculating the turn-by-turn synchronous phase according to
the parameters in the RFStation object. The phase is expressed in
the lowest RF harmonic and with respect to the RF bucket (see the equations
of motion defined for BLonD). The returned value is given in the range [0,
2*Pi]. Below transition, the RF wave is shifted by Pi w.r.t. the time
reference.</p>
<p>The accelerating_systems option can be set to</p>
<ul class="simple">
<li><p>‘as_single’ (default): the synchronous phase is calculated analytically
taking into account the phase program (RFStation.phi_offset).</p></li>
<li><p>‘all’: the synchronous phase is calculated numerically by finding the
minimum of the potential well; no intensity effects included. In case of
several minima, the deepest is taken. <strong>WARNING:</strong> in case of RF
harmonics with comparable voltages, this may lead to inconsistent
values of phi_s.</p></li>
<li><p>‘first’: not yet implemented. Its purpose should be to adjust the
RFStation.phi_offset of the higher harmonics so that only the
main harmonic is accelerating.</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>RFStation</strong> (<em>class</em>) – An RFStation type class.</p></li>
<li><p><strong>Particle</strong> (<em>class</em>) – A Particle type class; default is Proton().</p></li>
<li><p><strong>accelerating_systems</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Choice of accelerating systems; or options, see list above.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Synchronous phase.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)">float</a></p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-blond_common.interfaces.input_parameters.rf_parameters_options">
<span id="interfaces-input-parameters-rf-parameters-options-module"></span><h2>interfaces.input_parameters.rf_parameters_options module<a class="headerlink" href="#module-blond_common.interfaces.input_parameters.rf_parameters_options" title="Permalink to this headline">¶</a></h2>
<p><strong>Function(s) for pre-processing input data</strong></p>
<dl class="field-list simple">
<dt class="field-odd">Authors</dt>
<dd class="field-odd"><p><strong>Helga Timko</strong>, <strong>Alexandre Lasheen</strong>, <strong>Danilo Quartullo</strong>,
<strong>Simon Albright</strong></p>
</dd>
</dl>
<dl class="class">
<dt id="blond_common.interfaces.input_parameters.rf_parameters_options.RFStationOptions">
<em class="property">class </em><code class="sig-prename descclassname">blond_common.interfaces.input_parameters.rf_parameters_options.</code><code class="sig-name descname">RFStationOptions</code><span class="sig-paren">(</span><em class="sig-param">interpolation='linear', smoothing=0, plot=False, figdir='fig', figname=['data'], sampling=1</em><span class="sig-paren">)</span><a class="reference internal" href="blond_common/interfaces/input_parameters/rf_parameters_options.html#RFStationOptions"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#blond_common.interfaces.input_parameters.rf_parameters_options.RFStationOptions" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Class to preprocess the RF data (voltage, phase, harmonic) for
RFStation, interpolating it to every turn.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>interpolation</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Interpolation options for the data points. Available options are
‘linear’ (default) and ‘cubic’</p></li>
<li><p><strong>smoothing</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – Smoothing value for ‘cubic’ interpolation</p></li>
<li><p><strong>plot</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – Option to plot interpolated arrays; default is False</p></li>
<li><p><strong>figdir</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Directory to save optional plot; default is ‘fig’</p></li>
<li><p><strong>figname</strong> (<em>list of str</em>) – Figure name to save optional plot; default is ‘data’, different arrays
will have figures with different indices</p></li>
<li><p><strong>sampling</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – Decimation value for plotting; default is 1</p></li>
</ul>
</dd>
</dl>
<dl class="method">
<dt id="blond_common.interfaces.input_parameters.rf_parameters_options.RFStationOptions.reshape_data">
<code class="sig-name descname">reshape_data</code><span class="sig-paren">(</span><em class="sig-param">input_data</em>, <em class="sig-param">n_turns</em>, <em class="sig-param">n_rf</em>, <em class="sig-param">interp_time</em>, <em class="sig-param">t_start=0</em><span class="sig-paren">)</span><a class="reference internal" href="blond_common/interfaces/input_parameters/rf_parameters_options.html#RFStationOptions.reshape_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#blond_common.interfaces.input_parameters.rf_parameters_options.RFStationOptions.reshape_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks whether the user input is consistent with the expectation
for the RFStation object. The possibilites are detailed in the
documentation of the RFStation object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>input_data</strong> (<em>Ring.synchronous_data</em><em>, </em><em>Ring.alpha_0</em><em>,</em><em>1</em><em>,</em><em>2</em>) – Main input data to reshape</p></li>
<li><p><strong>n_turns</strong> (<em>RFStation.n_turns</em>) – Number of turns the simulation should be. Note that if
the input_data is passed as a tuple it is expected that the
input_data is a program. This parameter is only relevant if the
rf program is passed as an array/list with the rigth size
(see interp_time otherwise)</p></li>
<li><p><strong>n_rf</strong> (<em>RFStation.n_rf</em>) – The number of rf harmonics in the station. The simulation is
stopped if the input_data shape does not correspond to the expected
number of rf harmonics.</p></li>
<li><p><strong>interp_time</strong> (<em>Ring.cycle_time</em>) – Ensure that the rf program is interpolated on the same time basis
as the Ring.momentum program</p></li>
<li><p><strong>t_start</strong> (<em>Ring.RingOptions.t_start</em><em> or </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – Uses the same t_start as the one used to interpolate the momentum
program in Ring. This value can nevertheless be changed to a custom
value if necessary.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Returns the data with the adequate shape for the RStation object</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>output_data</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="blond_common.interfaces.input_parameters.rf_parameters_options.combine_rf_functions">
<code class="sig-prename descclassname">blond_common.interfaces.input_parameters.rf_parameters_options.</code><code class="sig-name descname">combine_rf_functions</code><span class="sig-paren">(</span><em class="sig-param">function_list</em>, <em class="sig-param">merge_type='linear'</em>, <em class="sig-param">resolution=0.001</em>, <em class="sig-param">Ring=None</em>, <em class="sig-param">main_h=True</em><span class="sig-paren">)</span><a class="reference internal" href="blond_common/interfaces/input_parameters/rf_parameters_options.html#combine_rf_functions"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#blond_common.interfaces.input_parameters.rf_parameters_options.combine_rf_functions" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to combine different RF programs. Each program is passed in a
tuple with complete function (single valued or numpy array) and 2-list
[start_time, stop_time].</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>function_list</strong> (<em>list of tuples</em>) – each tuple has form (function, [start_time, stop_time])
function can be a numpy.ndarray of format [time, value] or single valued
if function is single valued it will be assumed constant from start_time to stop_time
if function is numpy.ndarray it will be truncated to start_time, stop_time</p></li>
<li><p><strong>merge_type</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – <dl class="simple">
<dt>string signifying type of merge available, options are:</dt><dd><p>linear : function will be linearly interpolated from function_1[stop_time] to function_2[start_time]
isoadiabatic : designed for voltage functions and intended to maintain adiabaticity during change of voltage, best suited to flat momentum sections
linear_tune : for use with voltages, provides a linear change in the tune from function_1[stop_time] to function_2[start_time]</p>
</dd>
</dl>
</p></li>
<li><p><strong>resolution</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – the time in seconds between points of the interpolation</p></li>
<li><p><strong>Ring</strong> (<em>class</em>) – A Ring type class, only used with linear_tune merge_type</p></li>
<li><p><strong>main_h</strong> (<em>boolean</em>) – if main_h is True dE is considered in linear_tune merge_type, otherwise dE is set to 0</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>2 dimensional numpy.ndarray containing [time, value] of merged functions</p>
</dd>
</dl>
</dd></dl>

</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="fitting.html" class="btn btn-neutral float-right" title="fitting package" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="interfaces.html" class="btn btn-neutral float-left" title="interfaces package" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, BLonD-admin

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(false);
      });
  </script>

  
  
    
   

</body>
</html>